{{ define "title" }}{{ .Params.Title }}{{ end }}

{{ define "main" }}
<style>
.posts { display: flex; flex-wrap: wrap; justify-content: space-between; }
.post { width: 22rem; }
</style>
<main>
  {{.Content}}
  <div class=posts>
    {{ range .Paginator.Pages.ByPublishDate.Reverse }}
    <div class=post><a href="{{.Permalink}}">
      <h3>
        {{.Title}}
      </h3>
      {{ with .Resources.ByType "image" }}{{ range first 1 . }}
      {{ $img := .Resize "350x" }}
      <img src="{{ $img.RelPermalink }}" alt="{{ $.Params.Title }}" />
      {{ end }}{{ end }}
      </a>
      <span itemprop=datePublished>{{.Date.Format "2006-01-02"}}</span>
      {{ if not (eq .Params.Lastmod .Date) }}
      (Last Updated: <span itemprop=dateModified>{{ .Lastmod.Format "2006-01-02"}}</span>)
      {{ end }}
      <p>{{ .Description }}</p>
    </div>
    {{ end }}
  </div>
  {{ template "_internal/pagination.html" . }}
</main>
{{ end }}
